ol.control.Sidebar=function(settings){var i,child;for(this._options={element:"sidebar",position:"left"},ol.control.Control.call(this,{element:document.getElementById(this._options.element),target:this._options.target}),this.element.classList.add("sidebar-"+this._options.position),i=this.element.children.length-1;0<=i;i--)"DIV"===(child=this.element.children[i]).tagName&&child.classList.contains("sidebar-content")&&(this._container=child);for(this._tabitems=this.element.querySelectorAll("ul.sidebar-tabs > li, .sidebar-tabs > ul > li"),i=this._tabitems.length-1;0<=i;i--)this._tabitems[i]._sidebar=this;for(this._panes=[],this._closeButtons=[],i=this._container.children.length-1;0<=i;i--)if("DIV"==(child=this._container.children[i]).tagName&&child.classList.contains("sidebar-pane")){this._panes.push(child);for(var closeButtons=child.querySelectorAll(".sidebar-close"),j=0,len=closeButtons.length;j<len;j++)this._closeButtons.push(closeButtons[j])}},ol.inherits(ol.control.Sidebar,ol.control.Control),ol.control.Sidebar.prototype.setMap=function(map){var i,child;for(i=this._tabitems.length-1;0<=i;i--){var sub=(child=this._tabitems[i]).querySelector("a");sub.hasAttribute("href")&&"#"==sub.getAttribute("href").slice(0,1)&&(sub.onclick=this._onClick.bind(child))}for(i=this._closeButtons.length-1;0<=i;i--)(child=this._closeButtons[i]).onclick=this._onCloseClick.bind(this)},ol.control.Sidebar.prototype.open=function(id){var i,child;for(i=this._panes.length-1;0<=i;i--)(child=this._panes[i]).id==id?child.classList.add("active"):child.classList.contains("active")&&child.classList.remove("active");for(i=this._tabitems.length-1;0<=i;i--)(child=this._tabitems[i]).querySelector("a").hash=="#"+id?child.classList.add("active"):child.classList.contains("active")&&child.classList.remove("active");return this.element.classList.contains("collapsed")&&this.element.classList.remove("collapsed"),this},ol.control.Sidebar.prototype.close=function(){for(var i=this._tabitems.length-1;0<=i;i--){var child=this._tabitems[i];child.classList.contains("active")&&child.classList.remove("active")}return this.element.classList.contains("collapsed")||this.element.classList.add("collapsed"),this},ol.control.Sidebar.prototype._onClick=function(){this.classList.contains("active")?this._sidebar.close():this.classList.contains("hotLink")?this._sidebar.close():this.classList.contains("disabled")||this._sidebar.open(this.querySelector("a").hash.slice(1))},ol.control.Sidebar.prototype._onCloseClick=function(){this.close()};